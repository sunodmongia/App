{% extends "base.html" %}
{% block content %}

<style>
  .code-block {
    font-family: "Fira Code", "Cascadia Code", monospace;
    border-radius: 0.75rem;
    overflow-x: auto;
  }

  .endpoint-tag {
    font-size: 0.7rem;
    padding: 0.2rem 0.5rem;
    border-radius: 0.375rem;
    font-weight: 700;
    letter-spacing: 0.05em;
  }

  .api-section {
    scroll-margin-top: 80px;
  }

  pre::-webkit-scrollbar {
    height: 6px;
  }

  pre::-webkit-scrollbar-thumb {
    background: #4b5563;
    border-radius: 6px;
  }

  pre::-webkit-scrollbar-track {
    background: #111827;
  }
</style>

<!-- Hero -->
<section class="relative pt-24 pb-20 bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 overflow-hidden">
  <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_top,rgba(99,102,241,0.1),transparent_55%)]"></div>
  <div class="relative max-w-4xl mx-auto px-6 text-center">
    <p class="text-indigo-400 text-sm font-semibold uppercase tracking-widest mb-4">Developer Docs</p>
    <h1 class="text-5xl font-extrabold text-white mb-4 tracking-tight">API Reference</h1>
    <p class="text-lg text-slate-400 max-w-2xl mx-auto">
      Integrate <strong class="text-white">WireTech</strong> into your workflow with our clean, RESTful API.
      Fast, secure, and built for developers.
    </p>
    <div class="mt-8 flex justify-center gap-3">
      <a href="#authentication"
        class="px-5 py-2.5 bg-indigo-600 hover:bg-indigo-500 text-white text-sm font-semibold rounded-lg transition-colors">Get
        Started</a>
      <a href="#projects"
        class="px-5 py-2.5 border border-white/10 text-slate-400 hover:text-white text-sm font-semibold rounded-lg hover:bg-white/5 transition-colors">Browse
        Endpoints</a>
    </div>
  </div>
</section>

<!-- API Body -->
<section class="py-16 bg-slate-950">
  <div class="max-w-6xl mx-auto px-6 flex gap-10">

    <!-- Floating Sidebar -->
    <aside class="hidden lg:flex flex-col sticky top-24 self-start w-48 flex-shrink-0">
      <div class="bg-slate-900/80 border border-white/5 rounded-2xl p-5 space-y-1">
        <p class="text-xs font-semibold text-slate-500 uppercase tracking-wider mb-3">Contents</p>
        <a href="#authentication"
          class="sidebar-link flex items-center gap-2 px-3 py-2 rounded-lg text-sm text-slate-400 hover:bg-white/5 hover:text-white transition-colors">
          <span class="w-1.5 h-1.5 rounded-full bg-emerald-500"></span> Auth
        </a>
        <a href="#projects"
          class="sidebar-link flex items-center gap-2 px-3 py-2 rounded-lg text-sm text-slate-400 hover:bg-white/5 hover:text-white transition-colors">
          <span class="w-1.5 h-1.5 rounded-full bg-blue-500"></span> Projects
        </a>
        <a href="#tasks"
          class="sidebar-link flex items-center gap-2 px-3 py-2 rounded-lg text-sm text-slate-400 hover:bg-white/5 hover:text-white transition-colors">
          <span class="w-1.5 h-1.5 rounded-full bg-purple-500"></span> Tasks
        </a>
      </div>
    </aside>

    <!-- Docs Content -->
    <div class="flex-1 space-y-20 text-slate-300">

      <!-- Authentication -->
      <div class="api-section" id="authentication">
        <h2 class="text-2xl font-bold text-white mb-2">üîê Authentication</h2>
        <p class="text-slate-400 mb-6 leading-relaxed text-sm">
          Every request must include a valid <code
            class="text-indigo-400 bg-indigo-400/10 px-1.5 py-0.5 rounded text-xs">Bearer Token</code> in the header.
          Obtain a token by logging in via the Auth API.
        </p>

        <div class="bg-slate-900 border border-white/5 rounded-2xl overflow-hidden mb-4">
          <div class="flex items-center justify-between px-5 py-3 border-b border-white/5">
            <span class="endpoint-tag bg-emerald-500/20 text-emerald-400 border border-emerald-500/30">POST</span>
            <code class="text-sm text-slate-300 font-mono">/api/v1/auth/login</code>
          </div>
          <pre class="code-block bg-slate-950 text-emerald-300 text-xs p-5"><code>{
  "email": "user@example.com",
  "password": "yourpassword"
}</code></pre>
        </div>

        <div class="bg-slate-900 border border-white/5 rounded-2xl overflow-hidden">
          <div class="px-5 py-3 border-b border-white/5 text-xs font-semibold text-slate-400">Sample Response</div>
          <pre class="code-block bg-slate-950 text-blue-300 text-xs p-5"><code>{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI..."
}</code></pre>
        </div>
      </div>

      <!-- Projects -->
      <div class="api-section" id="projects">
        <h2 class="text-2xl font-bold text-white mb-2">üìÅ Projects</h2>
        <p class="text-slate-400 mb-6 text-sm">Manage your organization's projects ‚Äî create, fetch, and organize your
          workspace.</p>

        <div class="bg-slate-900 border border-white/5 rounded-2xl overflow-hidden mb-4">
          <div class="flex items-center justify-between px-5 py-3 border-b border-white/5">
            <span class="endpoint-tag bg-blue-500/20 text-blue-400 border border-blue-500/30">GET</span>
            <code class="text-sm text-slate-300 font-mono">/api/v1/projects</code>
          </div>
          <pre
            class="code-block bg-slate-950 text-emerald-300 text-xs p-5"><code>Authorization: Bearer &lt;your_token&gt;</code></pre>
        </div>

        <div class="bg-slate-900 border border-white/5 rounded-2xl overflow-hidden">
          <div class="flex items-center justify-between px-5 py-3 border-b border-white/5">
            <span class="endpoint-tag bg-emerald-500/20 text-emerald-400 border border-emerald-500/30">POST</span>
            <code class="text-sm text-slate-300 font-mono">/api/v1/projects</code>
          </div>
          <pre class="code-block bg-slate-950 text-emerald-300 text-xs p-5"><code>{
  "name": "New Project",
  "description": "Project description here"
}</code></pre>
        </div>
      </div>

      <!-- Tasks -->
      <div class="api-section" id="tasks">
        <h2 class="text-2xl font-bold text-white mb-2">üóÇÔ∏è Tasks</h2>
        <p class="text-slate-400 mb-6 text-sm">Each project can have multiple tasks. Use these endpoints to manage them
          efficiently.</p>

        <div class="bg-slate-900 border border-white/5 rounded-2xl overflow-hidden mb-4">
          <div class="flex items-center justify-between px-5 py-3 border-b border-white/5">
            <span class="endpoint-tag bg-blue-500/20 text-blue-400 border border-blue-500/30">GET</span>
            <code class="text-sm text-slate-300 font-mono">/api/v1/projects/{project_id}/tasks</code>
          </div>
          <pre
            class="code-block bg-slate-950 text-emerald-300 text-xs p-5"><code>Authorization: Bearer &lt;your_token&gt;</code></pre>
        </div>

        <div class="bg-slate-900 border border-white/5 rounded-2xl overflow-hidden">
          <div class="flex items-center justify-between px-5 py-3 border-b border-white/5">
            <span class="endpoint-tag bg-emerald-500/20 text-emerald-400 border border-emerald-500/30">POST</span>
            <code class="text-sm text-slate-300 font-mono">/api/v1/projects/{project_id}/tasks</code>
          </div>
          <pre class="code-block bg-slate-950 text-emerald-300 text-xs p-5"><code>{
  "title": "Task title",
  "due_date": "2025-08-15",
  "priority": "high"
}</code></pre>
        </div>
      </div>

    </div>
  </div>
</section>

<script>
  document.querySelectorAll('.sidebar-link').forEach(link => {
    link.addEventListener('click', e => {
      e.preventDefault();
      const target = document.querySelector(link.getAttribute('href'));
      if (target) target.scrollIntoView({ behavior: 'smooth', block: 'start' });
    });
  });
</script>

{% endblock %}